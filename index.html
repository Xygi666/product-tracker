<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#6366f1" />
  <title>–£—á–µ—Ç –ø—Ä–æ–¥—É–∫—Ü–∏–∏</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/themes.css" />
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js');
    }
  </script>
</head>
<body data-theme="light">
  <div class="app-container">
    <header class="app-header">
      <h1 class="app-title">üì¶ –£—á–µ—Ç –ø—Ä–æ–¥—É–∫—Ü–∏–∏</h1>
      <div class="header-actions">
        <button id="statistics-btn" title="–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞">üìä</button>
        <button id="theme-toggle" title="–¢–µ–º–∞">üåì</button>
        <button id="quick-export-btn" title="–≠–∫—Å–ø–æ—Ä—Ç">‚¨áÔ∏è</button>
        <button onclick="location.href='settings.html'" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è</button>
      </div>
    </header>

    <div class="main-stats">
      <div class="stats-card sales-card">
        <div>üí∞ –î–æ—Ö–æ–¥—ã –∑–∞ –º–µ—Å—è—Ü</div>
        <div id="monthly-sales" class="stats-amount">0 ‚ÇΩ</div>
      </div>
    </div>

    <div class="add-form-card">
      <h2>üìù –ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å</h2>

      <div class="form-group">
        <label>–ü—Ä–æ–¥—É–∫—Ç</label>
        <input type="text" id="product-search" class="form-input" placeholder="–ü–æ–∏—Å–∫..." autocomplete="off"/>
        <select id="product-select" class="form-select"></select>
        <div id="search-results" class="search-results"></div>
      </div>

      <div class="form-group">
        <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</label>
        <input type="number" id="quantity-input" class="form-input" placeholder="–ö–æ–ª-–≤–æ" min="0" step="0.01"/>
        <div id="quantity-presets" class="quantity-presets"></div>
      </div>

      <div class="amount-preview">
        –°—É–º–º–∞: <span id="current-amount">0 ‚ÇΩ</span>
      </div>

      <button id="add-record-btn" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å</button>
    </div>

    <div class="records-card">
      <h2>üìã –ó–∞–ø–∏—Å–∏</h2>
      <div class="records-header">
        <span id="records-count">0</span> —à—Ç
        <button id="export-csv-btn" class="btn btn-small btn-secondary">CSV</button>
      </div>
      <div id="records-list" class="records-list"></div>
    </div>
  </div>

  <div id="statistics-modal" class="modal">
    <div class="modal-content">
      <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø—Ä–æ–¥—É–∫—Ç–∞–º</h3>
      <div id="stat-products" class="stat-products"></div>
      <button onclick="closeStatisticsModal()" class="btn btn-secondary">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
  </div>

  <div id="quick-export-modal" class="modal">
    <div class="modal-content">
      <h3>–ë—ã—Å—Ç—Ä—ã–π —ç–∫—Å–ø–æ—Ä—Ç</h3>
      <button onclick="exportToCSV()" class="btn btn-primary">CSV</button>
      <button onclick="exportToEmail()" class="btn btn-secondary">Email</button>
      <button onclick="shareReport()" class="btn btn-secondary">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
      <button onclick="closeQuickExport()" class="btn btn-small btn-secondary">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
  </div>

  <div id="toast" class="toast"></div>

  <script src="js/storage.js"></script>
  <script src="js/search.js"></script>
  <script src="js/export.js"></script>
  <script src="js/app.js"></script>
  <script src="js/themes.js"></script>
</body>
</html>
